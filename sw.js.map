{"version":3,"names":[],"mappings":"","sources":["sw.js"],"sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";require(\"serviceworker-cache-polyfill\");var version=\"15\",prefix=\"wikioffline\",staticCacheName=\"\"+prefix+\"-static-v\"+version;self.addEventListener(\"install\",function(e){e.waitUntil(caches.open(staticCacheName).then(function(e){return e.addAll([\"./\",\"js/page.js\",\"css/all.css\",new Request(\"//bits.wikimedia.org/en.wikipedia.org/load.php?debug=false&lang=en&modules=ext.gadget.switcher%7Cext.gather.menu.icon%7Cmediawiki.sectionAnchor%7Cmediawiki.ui.button%7Cmobile.pagelist.styles%7Cskins.minerva.chrome.styles%7Cskins.minerva.content.styles%7Cskins.minerva.drawers.styles%7Cskins.minerva.tablet.styles&only=styles&skin=minerva&target=mobile&*\",{mode:\"no-cors\"})])}))});var expectedCaches=[staticCacheName];self.addEventListener(\"activate\",function(e){e.waitUntil(caches.keys().then(function(e){return Promise.all(e.map(function(e){return 0===e.indexOf(prefix+\"-\")&&0!==e.indexOf(\"\"+prefix+\"-article-\")&&-1===expectedCaches.indexOf(e)?caches[\"delete\"](e):void 0}))}))}),self.addEventListener(\"fetch\",function(e){var i=new URL(e.request.url);return i.origin==location.origin&&i.pathname==new URL(\"./\",location).pathname?void e.respondWith(caches.match(i.pathname)):void(\"https://wikipedia-cors.appspot.com\"!=i.origin&&e.respondWith(caches.match(e.request).then(function(i){return i||fetch(e.request)})))}),self.addEventListener(\"message\",function(e){\"skipWaiting\"==e.data&&self.skipWaiting()});\n\n\n},{\"serviceworker-cache-polyfill\":2}],2:[function(require,module,exports){\nCache.prototype.add||(Cache.prototype.add=function(t){return this.addAll([t])}),Cache.prototype.addAll||(Cache.prototype.addAll=function(t){function e(t){this.name=\"NetworkError\",this.code=19,this.message=t}var r=this;return e.prototype=Object.create(Error.prototype),Promise.resolve().then(function(){if(arguments.length<1)throw new TypeError;return t=t.map(function(t){return t instanceof Request?t:String(t)}),Promise.all(t.map(function(t){\"string\"==typeof t&&(t=new Request(t));var r=new URL(t.url).protocol;if(\"http:\"!==r&&\"https:\"!==r)throw new e(\"Invalid scheme\");return fetch(t.clone())}))}).then(function(e){return Promise.all(e.map(function(e,n){return r.put(t[n],e)}))}).then(function(){return void 0})});\n\n\n},{}]},{},[1]);\n"],"file":"sw.js","sourceRoot":"/source/"}